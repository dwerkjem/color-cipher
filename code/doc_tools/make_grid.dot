digraph functions_graph {
    rankdir=TB;

    node [shape=box, style=filled, color=lightblue];

    # Define the functions
    prepare_plain_text [label="prepare_plain_text(text)"];
    encode [label="encode(text)"];
    decode [label="decode(text)"];
    main_function [label="Main Function"];

    # Relationships
    main_function -> prepare_plain_text;
    main_function -> encode;
    main_function -> decode;

    prepare_plain_text -> encode;
    prepare_plain_text -> decode;

    # Additional interactions within the main function
    main_function -> "Read input (file/text)";
    main_function -> "Check Args";
    main_function -> "Handle Output";

    "Read input (file/text)" -> prepare_plain_text;
    "Check Args" -> encode;
    "Check Args" -> decode;
    "Handle Output" -> "Save to File";
    "Handle Output" -> "Print Output";

    # Style for main function nodes
    main_function [shape=ellipse, color=lightgreen];
}

